<project name="MiniBot" basedir=".." default="all">

	<property name="r.js" location="${basedir}/build/lib/r.js"/>
	<property name="minibot.build.js" location="${basedir}/build/lib/minibot.build.js"/>
	<property name="minibot.build-min.js" location="${basedir}/build/lib/minibot.build-min.js"/>

	<property name="jsdoc" location="${basedir}/build/lib/jsdoc-toolkit"/>
	<property name="minibot.doc.conf" location="${basedir}/build/lib/minibot.doc.conf"/>

	<target name="all" depends="cleanup, build"/>
	
	<target name="min" depends="cleanup, build-min"/>
	
	<target name="cleanup" description="Remove any previously generated artifacts.">
		
	</target>

	<target name="build" description="Build javascript source files into a single library file.">
		<exec executable="node">
			<arg value="${r.js}"/>
			<arg value="-o"/>
			<arg value="${minibot.build.js}"/>
		</exec>
	</target>

	<target name="build-min" description="Build javascript source files into a single library file.">
		<exec executable="node">
			<arg value="${r.js}"/>
			<arg value="-o"/>
			<arg value="${minibot.build-min.js}"/>
		</exec>
	</target>
	
	<target name="doc" description="Build Documentation.">
		
		<exec executable="java">
			<arg value="-Djsdoc.dir=${jsdoc}"/>
			<arg value="-jar"/>
			<arg value="${jsdoc}/jsrun.jar"/>
			<arg value="${jsdoc}/app/run.js"/>
			<arg value="-c=${minibot.doc.conf}"/>
		</exec>
		
	</target>

</project>