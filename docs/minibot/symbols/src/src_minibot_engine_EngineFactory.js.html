<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/*
<span class='line'>  2</span> require 'engine/object/Player'
<span class='line'>  3</span> require 'engine/component/player/PlayerPhysicsComponent'
<span class='line'>  4</span> require 'engine/component/player/PlayerInputComponent'
<span class='line'>  5</span> require 'engine/component/player/PlayerHealthComponent'
<span class='line'>  6</span> 
<span class='line'>  7</span> require 'engine/factory/EquipmentFactory'
<span class='line'>  8</span> 
<span class='line'>  9</span> PlayerFactory = {}
<span class='line'> 10</span> 
<span class='line'> 11</span> function PlayerFactory.Create(world, equipments)
<span class='line'> 12</span> 	local player = Player()
<span class='line'> 13</span> 	player:setProperty("x", 0)
<span class='line'> 14</span> 	player:setProperty("y", 0)
<span class='line'> 15</span> 	player:setProperty("health", 5)
<span class='line'> 16</span> 	
<span class='line'> 17</span> 	player:addComponent(PlayerPhysicsComponent(world))
<span class='line'> 18</span> 	player:addComponent(PlayerInputComponent())
<span class='line'> 19</span> 	player:addComponent(PlayerHealthComponent())
<span class='line'> 20</span>   
<span class='line'> 21</span>   -- Add equipments
<span class='line'> 22</span>   local e = {nil, nil, nil, nil, nil, nil, nil, nil}
<span class='line'> 23</span>   for i,v in ipairs(equipments) do
<span class='line'> 24</span>     e[i] = EquipmentFactory.Create(v, world)
<span class='line'> 25</span> 	end
<span class='line'> 26</span>   player:setProperty("equipment", e)
<span class='line'> 27</span>   
<span class='line'> 28</span> 	return player
<span class='line'> 29</span> end
<span class='line'> 30</span> */</span></pre></body></html>