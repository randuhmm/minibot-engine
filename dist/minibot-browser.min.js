require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Manager=function Manager(key){_classCallCheck(this,Manager);if(key in Manager.instanceMap){throw new Error(Manager.MULTITON_MSG)}Manager.instanceMap[key]=this};Manager.instanceMap=[];Manager.MULTITON_MSG="Manager instance for this Multiton key already constructed!";Manager.getInstance=function(key){if(null===key)return null;if(Manager.instanceMap[key]===null){Manager.instanceMap[key]=new Manager(key)}return Manager.instanceMap[key]};Manager.hasCore=function(key){return key in Manager.instanceMap};Manager.removeCore=function(key){if(Manager.instanceMap[key]===null)return;delete Manager.instanceMap[key]};exports.default=Manager},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BindAsEventListener=function BindAsEventListener(fx,ctx){var args=Array.prototype.slice.call(arguments,2);return function(event){var a=[event];for(var i=args.length-1;i>=0;i--){a[1+i]=args[i]}fx.apply(ctx,a)}};var Bind=function Bind(fx,ctx){var args=Array.prototype.slice.call(arguments,2);return function(){var _args;if(arguments.length>0){_args=args.concat(Array.prototype.slice.call(arguments))}else{_args=args}fx.apply(ctx,_args)}};var Defer=function Defer(fx,ctx){var args=Array.prototype.slice.call(arguments,2);setTimeout(function(){fx.apply(ctx,args)},0)};var StringToQueryParams=function StringToQueryParams(str,separator){var match=str.trim().match(/([^?#]*)(#.*)?$/);var params={};if(match){var segments=match[1].split(separator||"&");var pair,key,value;for(var i=0;i<segments.length;i++){pair=segments[i];if((pair=pair.split("="))[0]){key=decodeURIComponent(pair.shift());value=pair.length>1?pair.join("="):pair[0];if(key in params){if(!Object.isArray(params[key]))params[key]=[params[key]];params[key].push(value)}else{params[key]=value}}}}return params};exports.Bind=Bind;exports.BindAsEventListener=BindAsEventListener;exports.Defer=Defer;exports.StringToQueryParams=StringToQueryParams},{}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _EventDispatcher=require("minibot/event/EventDispatcher");var _EventDispatcher2=_interopRequireDefault(_EventDispatcher);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DisplayObject=function DisplayObject(){_EventDispatcher2.default.call(this)};DisplayObject.prototype=Object.create(_EventDispatcher2.default.prototype);DisplayObject.prototype.constructor=DisplayObject;DisplayObject.subclasses=[];DisplayObject.prototype.parent=null;DisplayObject.prototype.onAddedToParent=function(){};DisplayObject.AddResource=function(klass,type,id){if(klass.RESOURCES===undefined)klass.RESOURCES={};if(klass.RESOURCES[type]===undefined)klass.RESOURCES[type]={};klass.RESOURCES[type][id]=null};DisplayObject.AddObject=function(klass,object){if(klass.OBJECTS===undefined)klass.OBJECTS=[];klass.OBJECTS.push(object)};DisplayObject.GetResource=function(klass,type,id){if(klass.RESOURCES===undefined)return null;if(klass.RESOURCES[type]===undefined)return null;if(klass.RESOURCES[type][id]===undefined)return null;return klass.RESOURCES[type][id]};DisplayObject.ALIGN_HORZ_CENTER=1;DisplayObject.ALIGN_VERT_CENTER=2;exports.default=DisplayObject},{"minibot/event/EventDispatcher":29}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _Buffer2=require("minibot/display/scene/Buffer");var _Buffer3=_interopRequireDefault(_Buffer2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CanvasBuffer=function(_Buffer){_inherits(CanvasBuffer,_Buffer);function CanvasBuffer(scene){_classCallCheck(this,CanvasBuffer);return _possibleConstructorReturn(this,(CanvasBuffer.__proto__||Object.getPrototypeOf(CanvasBuffer)).call(this,scene))}_createClass(CanvasBuffer,[{key:"setWidth",value:function setWidth(width){_get(CanvasBuffer.prototype.__proto__||Object.getPrototypeOf(CanvasBuffer.prototype),"setWidth",this).call(this,width);this.bufferScene.setWidth(width)}},{key:"setHeight",value:function setHeight(height){_get(CanvasBuffer.prototype.__proto__||Object.getPrototypeOf(CanvasBuffer.prototype),"setWidth",this).call(this,height);this.bufferScene.setHeight(height)}},{key:"render",value:function render(dt,x,y){var element=this.bufferScene.getElement();this.scene.drawImage(element,x*-1,y*-1,this.scene.width,this.scene.height,0,0,this.scene.width,this.scene.height)}}]);return CanvasBuffer}(_Buffer3.default);exports.default=CanvasBuffer},{"minibot/display/scene/Buffer":8}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _Scene2=require("minibot/display/scene/Scene");var _Scene3=_interopRequireDefault(_Scene2);var _Utils=require("minibot/core/Utils");var _MouseEvent=require("minibot/event/MouseEvent");var _MouseEvent2=_interopRequireDefault(_MouseEvent);var _TouchEvent=require("minibot/event/TouchEvent");var _TouchEvent2=_interopRequireDefault(_TouchEvent);var _KeyboardEvent=require("minibot/event/KeyboardEvent");var _KeyboardEvent2=_interopRequireDefault(_KeyboardEvent);var _Keyboard=require("minibot/event/enum/Keyboard");var _Keyboard2=_interopRequireDefault(_Keyboard);var _Color=require("minibot/graphics/Color");var _Color2=_interopRequireDefault(_Color);var _CanvasBuffer=require("minibot/display/html/CanvasBuffer");var _CanvasBuffer2=_interopRequireDefault(_CanvasBuffer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CanvasScene=function(_Scene){_inherits(CanvasScene,_Scene);function CanvasScene(options){_classCallCheck(this,CanvasScene);if(options==undefined)options={};var _this=_possibleConstructorReturn(this,(CanvasScene.__proto__||Object.getPrototypeOf(CanvasScene)).call(this,options));_this.element=_this.hasOption("element")?_this.getOption("element"):new Element("canvas");_this.enableEvents=_this.hasOption("enableEvents")?_this.getOption("enableEvents"):true;_this.eventTypes=_this.hasOption("eventTypes")?_this.getOption("eventTypes"):_Scene3.default.MOUSE_EVENTS;_this.maxTouches=_this.hasOption("maxTouches")?_this.getOption("maxTouches"):1;_this.setWidth(_this.hasOption("width")?_this.getOption("width"):_this.element.width);_this.setHeight(_this.hasOption("height")?_this.getOption("height"):_this.element.height);_this.ratio=1;if(_this.hasOption("ratio")){_this.ratio=_this.getOption("ratio");if(_this.ratio!=1){_this.element.style.width=_this.element.width/_this.ratio+"px";_this.element.style.height=_this.element.height/_this.ratio+"px"}}_this.context=_this.element.getContext("2d");_this.touchMap={};_this.touchCount=0;if(_this.enableEvents){if(_this.eventTypes&_Scene3.default.MOUSE_EVENTS){_this.mouseBfx=(0,_Utils.BindAsEventListener)(_this.handleMouseEvent,_this);_this.element.onmousedown=_this.mouseBfx;_this.element.onmouseup=_this.mouseBfx;_this.element.onmousemove=_this.mouseBfx}if(_this.eventTypes&_Scene3.default.TOUCH_EVENTS){_this.touchBfx=(0,_Utils.BindAsEventListener)(_this.handleTouchEvent,_this);_this.element.ontouchstart=_this.touchBfx;_this.element.ontouchend=_this.touchBfx;_this.element.ontouchmove=_this.touchBfx}if(_this.eventTypes&_Scene3.default.KEYBOARD_EVENTS){_this.keyboardBfx=(0,_Utils.BindAsEventListener)(_this.handleKeyboardEvent,_this);document.onkeydown=_this.keyboardBfx;document.onkeyup=_this.keyboardBfx}}return _this}_createClass(CanvasScene,[{key:"setWidth",value:function setWidth(width){_get(CanvasScene.prototype.__proto__||Object.getPrototypeOf(CanvasScene.prototype),"setWidth",this).call(this,width);this.element.width=width}},{key:"setHeight",value:function setHeight(height){_get(CanvasScene.prototype.__proto__||Object.getPrototypeOf(CanvasScene.prototype),"setHeight",this).call(this,height);this.element.height=height}},{key:"getElement",value:function getElement(){return this.element}},{key:"clear",value:function clear(){this.setWidth(this.width)}},{key:"drawImage",value:function drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh){this.context.drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh)}},{key:"drawLine",value:function drawLine(x1,y1,x2,y2){this.context.beginPath();this.context.moveTo(x1,y1);this.context.lineTo(x2,y2);this.context.stroke()}},{key:"drawPoly",value:function drawPoly(mode,c,closed){}},{key:"drawRect",value:function drawRect(mode,x,y,w,h){this.context.fillRect(x,y,w,h)}},{key:"drawText",value:function drawText(mode,text,style,x,y){if(style!=null){this.context.font=style.getWeight()+" "+style.getSize()+"pt "+style.getFamily();var color=style.getColor();if(color)this.setFillColor(color);var align=style.getAlign();if(align)this.context.textAlign=align}this.context.fillText(text,x,y)}},{key:"createBuffer",value:function createBuffer(){var scene=new CanvasScene;var buffer=new _CanvasBuffer2.default(scene);return buffer}},{key:"drawBuffer",value:function drawBuffer(buffer){}},{key:"setFillColor",value:function setFillColor(color){this.context.fillStyle="rgba("+color.getAsString(_Color2.default.RGB)+")"}},{key:"setFillPattern",value:function setFillPattern(pattern){if(!pattern.hasPattern()){var ps=pattern.sprite;var scene=new CanvasScene;scene.setWidth(ps.w);scene.setHeight(ps.h);scene.drawImage(ps.sprite.img,ps.sprite.x,ps.sprite.y,ps.sprite.w,ps.sprite.h,ps.x,ps.y,ps.w,ps.h);pattern.setPattern(this.context.createPattern(scene.getElement(),pattern.repeat))}this.context.fillStyle=pattern.getPattern()}},{key:"setLineColor",value:function setLineColor(color){}},{key:"setLineStyle",value:function setLineStyle(style){}},{key:"setLineWidth",value:function setLineWidth(width){}},{key:"save",value:function save(){this.context.save()}},{key:"restore",value:function restore(){this.context.restore()}},{key:"translate",value:function translate(x,y){this.context.translate(x,y)}},{key:"rotate",value:function rotate(a){this.context.rotate(a)}},{key:"handleMouseEvent",value:function handleMouseEvent(event){event.preventDefault();var x=event.currentTarget.offsetLeft*-1+event.currentTarget.offsetParent.offsetLeft*-1;var y=event.currentTarget.offsetTop*-1+event.currentTarget.offsetParent.offsetTop*-1;var type;x=(x+event.clientX)*this.ratio;y=(y+event.clientY)*this.ratio;switch(event.type){case"mousedown":type=_MouseEvent2.default.MOUSE_DOWN;break;case"mousemove":type=_MouseEvent2.default.MOUSE_MOVE;break;case"mouseup":type=_MouseEvent2.default.MOUSE_UP;break;default:return}var mouseEvent=new _MouseEvent2.default(type,false,false,x,y,this.container);this.dispatchEvent(mouseEvent)}},{key:"handleTouchEvent",value:function handleTouchEvent(event){event.preventDefault();var touch=event.changedTouches[0];if(event.type=="touchstart"){if(this.touchCount>=this.maxTouches){return}else{this.touchCount+=1;this.touchMap[touch.identifier]=true}}else if(event.type=="touchend"){if(this.touchMap[touch.identifier]!=undefined){delete this.touchMap[touch.identifier];this.touchCount-=1}else{return}}else{if(this.touchMap[touch.identifier]==undefined)return}var x=event.currentTarget.offsetLeft*-1+event.currentTarget.offsetParent.offsetLeft*-1;var y=event.currentTarget.offsetTop*-1+event.currentTarget.offsetParent.offsetTop*-1;var type;x=(x+touch.clientX)*this.ratio;y=(y+touch.clientY)*this.ratio;switch(event.type){case"touchstart":type=_TouchEvent2.default.TOUCH_START;break;case"touchmove":type=_TouchEvent2.default.TOUCH_MOVE;break;case"touchend":type=_TouchEvent2.default.TOUCH_END;break;default:return}var touchEvent=new _TouchEvent2.default(type,false,false,x,y,this.container);this.dispatchEvent(touchEvent)}},{key:"handleKeyboardEvent",value:function handleKeyboardEvent(event){event.preventDefault();var type;var key=this.getKeyFromKeyCode(event.keyCode);if(key==undefined)return;switch(event.type){case"keydown":type=_KeyboardEvent2.default.KEY_DOWN;break;case"keyup":type=_KeyboardEvent2.default.KEY_UP;break}var keyboardEvent=new _KeyboardEvent2.default(type,false,false,key);this.dispatchEvent(keyboardEvent)}},{key:"getKeyFromKeyCode",value:function getKeyFromKeyCode(keyCode){switch(keyCode){case 32:return _Keyboard2.default.KEY_SPACE;case 37:return _Keyboard2.default.KEY_LEFT;case 38:return _Keyboard2.default.KEY_UP;case 39:return _Keyboard2.default.KEY_RIGHT;case 40:return _Keyboard2.default.KEY_DOWN}}}]);return CanvasScene}(_Scene3.default);exports.default=CanvasScene},{"minibot/core/Utils":2,"minibot/display/html/CanvasBuffer":4,"minibot/display/scene/Scene":12,"minibot/event/KeyboardEvent":31,"minibot/event/MouseEvent":32,"minibot/event/TouchEvent":33,"minibot/event/enum/Keyboard":34,"minibot/graphics/Color":37}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _Utils=require("minibot/core/Utils");var _DisplayObject2=require("minibot/display/DisplayObject");var _DisplayObject3=_interopRequireDefault(_DisplayObject2);var _HtmlEvent=require("minibot/event/HtmlEvent");var _HtmlEvent2=_interopRequireDefault(_HtmlEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HtmlElement=function(_DisplayObject){_inherits(HtmlElement,_DisplayObject);function HtmlElement(){_classCallCheck(this,HtmlElement);var _this=_possibleConstructorReturn(this,(HtmlElement.__proto__||Object.getPrototypeOf(HtmlElement)).call(this));if(arguments[1]!=undefined){if(typeof arguments[1]=="string"){_this.element=new Element(arguments[1])}else{_this.element=arguments[1]}}else{_this.element=new Element("div")}if(_this.element==undefined){}_this.htmlListeners={};_this.children=new Array;_this.writeAttribute=(0,_Utils.Bind)(_this.element.writeAttribute,_this.element);_this.readAttribute=(0,_Utils.Bind)(_this.element.readAttribute,_this.element);_this.hide=(0,_Utils.Bind)(_this.element.hide,_this.element);_this.show=(0,_Utils.Bind)(_this.element.show,_this.element);return _this}_createClass(HtmlElement,[{key:"addChild",value:function addChild(displayObject){this.element.insert(displayObject.element);this.children.push(displayObject);if(this.isInDOM){displayObject.onAddedToDOM()}}},{key:"removeChild",value:function removeChild(displayObject){var child;for(var i=0;i<this.children.length;i++){child=this.children[i];if(displayObject===child){this.children.splice(i,1);displayObject.element.remove();displayObject.onRemovedFromDOM()}}}},{key:"onAddedToDOM",value:function onAddedToDOM(){this.isInDOM=true;var child;for(var i=0;i<this.children.length;i++){child=this.children[i];child.onAddedToDOM()}}},{key:"isHtmlObject",value:function isHtmlObject(){return true}},{key:"addToDOM",value:function addToDOM(element){element.insert(this.element);this.onAddedToDOM()}},{key:"onRemovedFromDOM",value:function onRemovedFromDOM(){}},{key:"addEventListener",value:function addEventListener(type,callback){if(this.htmlListeners[type]==undefined){var htmlType=null;switch(type){case _HtmlEvent2.default.CLICK:htmlType="click";break;case _HtmlEvent2.default.FOCUS:htmlType="focus";break;case _HtmlEvent2.default.BLUR:htmlType="blur";break;case _HtmlEvent2.default.MOUSE_DOWN:htmlType="mousedown";break;case _HtmlEvent2.default.MOUSE_MOVE:htmlType="mousemove";break;case _HtmlEvent2.default.MOUSE_UP:htmlType="mouseup";break;case _HtmlEvent2.default.KEY_DOWN:htmlType="keydown";break;case _HtmlEvent2.default.KEY_UP:htmlType="keyup";break;case _HtmlEvent2.default.DRAG_ENTER:htmlType="dragenter";break;case _HtmlEvent2.default.DRAG_EXIT:htmlType="dragexit";break;case _HtmlEvent2.default.DRAG_OVER:htmlType="dragover";break;case _HtmlEvent2.default.DROP:htmlType="drop";break;default:break}if(htmlType!=null){this.htmlListeners[type]=(0,_Utils.BindAsEventListener)(this.handleHtmlEvent,this,type);this.element.observe(htmlType,this.htmlListeners[type])}}_get(HtmlElement.prototype.__proto__||Object.getPrototypeOf(HtmlElement.prototype),"addEventListener",this).call(this,type,callback)}},{key:"handleHtmlEvent",value:function handleHtmlEvent(event,type){this.dispatchEvent(new _HtmlEvent2.default(type,event))}}]);return HtmlElement}(_DisplayObject3.default);exports.default=HtmlElement},{"minibot/core/Utils":2,"minibot/display/DisplayObject":3,"minibot/event/HtmlEvent":30}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _SceneDisplayObject2=require("minibot/display/scene/SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Animation=function(_SceneDisplayObject){_inherits(Animation,_SceneDisplayObject);function Animation(animation,play,loops){_classCallCheck(this,Animation);var _this=_possibleConstructorReturn(this,(Animation.__proto__||Object.getPrototypeOf(Animation)).call(this));_this.loops=Animation.INFINITE_LOOPS;_this.setAnimation(animation,play,loops);return _this}_createClass(Animation,[{key:"setAnimation",value:function setAnimation(animation,play,loops){this.playing=play==undefined||play;if(loops==undefined){this.loops==Animation.INFINITE_LOOPS}else{this.loops=loops}this.currentFrame=0;this.time=0;this.animation=animation;this.setupFrame()}},{key:"setupFrame",value:function setupFrame(){if(this.animation==null)return;this.currentSprite=this.animation.getSprite(this.currentFrame);this.currentDelay=this.animation.getDelay(this.currentFrame);if(this.w==0)this.w=this.currentSprite.w;if(this.h==0)this.h=this.currentSprite.h}},{key:"stop",value:function stop(){this.playing=false;this.currentFrame=0;this.time=0;this.setupFrame()}},{key:"play",value:function play(loops){this.playing=true;if(loops==undefined){this.loops==Animation.INFINITE_LOOPS}else{this.loops=loops}}},{key:"isPlaying",value:function isPlaying(){return this.playing}},{key:"render",value:function render(dt,x,y){if(this.animation==null)return;if(this.playing){this.time+=dt;while(this.time>=this.currentDelay){if(this.loops!=Animation.INFINITE_LOOPS){if(this.animation.atEnd(this.currentFrame)){if(this.loops==0){this.stop();this.setupFrame();break}else{this.loops-=1}}}this.time-=this.currentDelay;this.currentFrame=this.animation.nextFrame(this.currentFrame);this.setupFrame()}}try{this.scene.drawImage(this.currentSprite.img,this.currentSprite.x,this.currentSprite.y,this.currentSprite.w,this.currentSprite.h,this.x+x,this.y+y,this.w,this.h)}catch(error){console.log("Animation: Rendering Fatal Error")}}}]);return Animation}(_SceneDisplayObject3.default);exports.default=Animation},{"minibot/display/scene/SceneDisplayObject":13}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _Container2=require("./Container");var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Buffer=function(_Container){_inherits(Buffer,_Container);function Buffer(scene){_classCallCheck(this,Buffer);var _this=_possibleConstructorReturn(this,(Buffer.__proto__||Object.getPrototypeOf(Buffer)).call(this));_this.bufferScene=scene;_this.resizable=false;return _this}_createClass(Buffer,[{key:"renderBuffer",value:function renderBuffer(x,y){var tempScene=this.scene;var tempRoot=this.root;this.root=this;this.scene=this.bufferScene;this.onAddedToScene();_get(Buffer.prototype.__proto__||Object.getPrototypeOf(Buffer.prototype),"render",this).call(this,0,x,y);this.root=tempRoot;this.scene=tempScene}},{key:"render",value:function render(){}}]);return Buffer}(_Container3.default);exports.default=Buffer},{"./Container":10}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _SceneDisplayObject2=require("./SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);var _Utils=require("minibot/core/Utils");var _MouseEvent=require("minibot/event/MouseEvent");var _MouseEvent2=_interopRequireDefault(_MouseEvent);var _TouchEvent=require("minibot/event/TouchEvent");var _TouchEvent2=_interopRequireDefault(_TouchEvent);var _ButtonEvent=require("minibot/event/ButtonEvent");var _ButtonEvent2=_interopRequireDefault(_ButtonEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Button=function(_SceneDisplayObject){_inherits(Button,_SceneDisplayObject);function Button(upState,downState,overState){_classCallCheck(this,Button);var _this=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).call(this));_this.upState=null;_this.downState=null;_this.overState=null;_this.currentState=null;_this.states=null;_this.isDown=false;_this.isOver=false;_this.mouseMoveCallback=null;_this.mouseUpCallback=null;_this.touchMoveCallback=null;_this.touchEndCallback=null;if(upState!=undefined)_this.upState=upState;if(downState!=undefined)_this.downState=downState;if(overState!=undefined)_this.overState=overState;_this.currentState=_this.upState;_this.w=_this.upState.w;_this.h=_this.upState.h;_this.states=new Array;if(_this.upState!=null)_this.states.push(_this.upState);if(_this.downState!=null)_this.states.push(_this.downState);if(_this.overState!=null)_this.states.push(_this.overState);return _this}_createClass(Button,[{key:"render",value:function render(dt,x,y){this.currentState.render(dt,this.x+x,this.y+y)}},{key:"onAddedToScene",value:function onAddedToScene(){_get(Button.prototype.__proto__||Object.getPrototypeOf(Button.prototype),"onAddedToScene",this).call(this);
for(var i=this.states.length-1;i>=0;i--){var displayObject=this.states[i];displayObject.root=this.parent;displayObject.parent=this;displayObject.scene=this.scene;displayObject.onAddedToScene()}}},{key:"dispatchEvent",value:function dispatchEvent(event){if(!this.isDown){if(event.type==_MouseEvent2.default.MOUSE_DOWN){this.currentState=this.downState;this.isDown=true;if(!this.mouseMoveCallback){this.mouseMoveCallback=(0,_Utils.BindAsEventListener)(this.handleMouseMove,this);this.parent.addEventListener(_MouseEvent2.default.MOUSE_MOVE,this.mouseMoveCallback)}if(!this.mouseUpCallback){this.mouseUpCallback=(0,_Utils.BindAsEventListener)(this.handleMouseUp,this);this.parent.addEventListener(_MouseEvent2.default.MOUSE_UP,this.mouseUpCallback)}}else if(event.type==_TouchEvent2.default.TOUCH_START){this.currentState=this.downState;this.isDown=true;if(!this.touchMoveCallback){this.touchMoveCallback=(0,_Utils.BindAsEventListener)(this.handleTouchMove,this);this.parent.addEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback)}if(!this.touchEndCallback){this.touchEndCallback=(0,_Utils.BindAsEventListener)(this.handleTouchEnd,this);this.parent.addEventListener(_TouchEvent2.default.TOUCH_END,this.touchEndCallback)}}else if(event.type==_MouseEvent2.default.MOUSE_MOVE){this.currentState=this.overState;if(!this.mouseMoveCallback){this.mouseMoveCallback=(0,_Utils.BindAsEventListener)(this.handleMouseMove,this);this.parent.addEventListener(_MouseEvent2.default.MOUSE_MOVE,this.mouseMoveCallback)}}else if(event.type==_TouchEvent2.default.TOUCH_MOVE){this.currentState=this.overState;if(!this.touchMoveCallback){this.touchMoveCallback=(0,_Utils.BindAsEventListener)(this.handleTouchMove,this);this.parent.addEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback)}}else if(event.type==_TouchEvent2.default.TOUCH_END){this.currentState=this.upState;if(this.touchMoveCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback);this.touchMoveCallback=null}}}else{if(event.type==_MouseEvent2.default.MOUSE_UP){this.isDown=false;if(this.mouseMoveCallback){this.parent.removeEventListener(_MouseEvent2.default.MOUSE_MOVE,this.mouseMoveCallback);this.mouseMoveCallback=null}if(this.mouseUpCallback){this.parent.removeEventListener(_MouseEvent2.default.MOUSE_UP,this.mouseUpCallback);this.mouseUpCallback=null}this.currentState=this.upState;(0,_Utils.Defer)(this.select,this,event)}else if(event.type==_TouchEvent2.default.TOUCH_END){this.isDown=false;if(this.touchMoveCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback);this.touchMoveCallback=null}if(this.touchUpCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_END,this.touchEndCallback);this.touchEndCallback=null}this.currentState=this.upState;(0,_Utils.Defer)(this.select,this,event)}}return _get(Button.prototype.__proto__||Object.getPrototypeOf(Button.prototype),"dispatchEvent",this).call(this,event)}},{key:"handleMouseMove",value:function handleMouseMove(event){this.isOver=this.isEventOver(event);if(this.isOver&&this.isDown){this.currentState=this.downState}else if(this.isOver){this.currentState=this.overState}else if(this.isDown){this.currentState=this.upState}else{this.currentState=this.upState;if(this.mouseMoveCallback){this.parent.removeEventListener(_MouseEvent2.default.MOUSE_MOVE,this.mouseMoveCallback);this.mouseMoveCallback=null}}}},{key:"handleTouchMove",value:function handleTouchMove(event){this.isOver=this.isEventOver(event);if(this.isOver&&this.isDown){this.currentState=this.downState}else if(this.isOver){this.currentState=this.overState}else if(this.isDown){this.currentState=this.upState}else{this.currentState=this.upState;if(this.touchMoveCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback);this.touchMoveCallback=null}}}},{key:"isEventOver",value:function isEventOver(event){var sceneX=this.getSceneX();var sceneY=this.getSceneY();return event.x>=sceneX&&event.x<=sceneX+this.w&&event.y>=sceneY&&event.y<=sceneY+this.h}},{key:"handleMouseUp",value:function handleMouseUp(event){this.currentState=this.upState;this.isDown=false;if(this.mouseMoveCallback){this.parent.removeEventListener(_MouseEvent2.default.MOUSE_MOVE,this.mouseMoveCallback);this.mouseMoveCallback=null}if(this.mouseUpCallback){this.parent.removeEventListener(_MouseEvent2.default.MOUSE_UP,this.mouseUpCallback);this.mouseUpCallback=null}}},{key:"handleTouchEnd",value:function handleTouchEnd(event){this.currentState=this.upState;this.isDown=false;if(this.touchMoveCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_MOVE,this.touchMoveCallback);this.touchMoveCallback=null}if(this.touchUpCallback){this.parent.removeEventListener(_TouchEvent2.default.TOUCH_END,this.touchEndCallback);this.touchEndCallback=null}}},{key:"select",value:function select(event){var x=event.x;var y=event.y;var type=_ButtonEvent2.default.SELECT;var buttonEvent=new _ButtonEvent2.default(type,false,false,this);this.dispatchEvent(buttonEvent)}}]);return Button}(_SceneDisplayObject3.default);exports.default=Button},{"./SceneDisplayObject":13,"minibot/core/Utils":2,"minibot/event/ButtonEvent":27,"minibot/event/MouseEvent":32,"minibot/event/TouchEvent":33}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _SceneDisplayObject2=require("./SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Container=function(_SceneDisplayObject){_inherits(Container,_SceneDisplayObject);function Container(){_classCallCheck(this,Container);var _this=_possibleConstructorReturn(this,(Container.__proto__||Object.getPrototypeOf(Container)).call(this));_this.layers=new Array;_this.touchChildren=true;_this.resizable=true;_this.scalable=true;_this.scale=1;return _this}_createClass(Container,[{key:"addChild",value:function addChild(displayObject,layer,position){if(layer==undefined)layer=0;while(this.layers.length<=layer){this.layers.push(new Array)}if(position==undefined)position=this.layers[layer].length;this.layers[layer].splice(position,0,displayObject);if(this.scalable&&this.scale!=1){displayObject.w*=this.scale;displayObject.h*=this.scale;displayObject.x*=this.scale;displayObject.y*=this.scale}if(this.root!=null){displayObject.root=this.root;displayObject.scene=this.scene;displayObject.parent=this;displayObject.onAddedToScene()}if(this.resizable){if(this.w<displayObject.x+displayObject.w)this.w=displayObject.x+displayObject.w;if(this.h<displayObject.y+displayObject.h)this.h=displayObject.y+displayObject.h}}},{key:"removeChild",value:function removeChild(displayObject){for(var l=0;l<this.layers.length;l++){var layer=this.layers[l];for(var d=0;d<layer.length;d++){if(displayObject===layer[d]){layer.splice(d,1);displayObject.onRemovedFromScene();return}}}}},{key:"removeAll",value:function removeAll(){var layers=this.layers;var displayObject;for(var l=0;l<layers.length;l++){var layer=layers[l];for(var d=0;d<layer.length;d++){displayObject=layer[d];displayObject.onRemovedFromScene()}}this.layers=new Array}},{key:"render",value:function render(dt,x,y){if(this.scene==null)return;if(x==undefined)x=0;if(y==undefined)y=0;var l,d,layer,displayObject,xBounds,yBounds;for(l=0;l<this.layers.length;l++){layer=this.layers[l];for(d=0;d<layer.length;d++){displayObject=layer[d];if(!displayObject.isVisible)continue;xBounds=this.x+x+displayObject.x;yBounds=this.y+y+displayObject.y;if(xBounds>=this.root.w||xBounds<-1*displayObject.w||yBounds>=this.root.h||yBounds<-1*displayObject.h)continue;displayObject.render(dt,this.x+x,this.y+y)}}}},{key:"setChildIndex",value:function setChildIndex(displayObject,index){for(var l=0;l<this.layers.length;l++){var layer=this.layers[l];for(var d=0;d<layer.length;d++){if(displayObject===layer[d]){if(index>=layer.length)return;layer.splice(d,1);layer.splice(index,0,displayObject);return}}}}},{key:"dispatchEvent",value:function dispatchEvent(event){var captured=false;var dispatched=false;var l,d,layer,displayObject;if("x"in event&&"y"in event){event.x-=this.x;event.y-=this.y;for(l=this.layers.length-1;l>=0;l--){layer=this.layers[l];for(d=layer.length-1;d>=0;d--){displayObject=layer[d];if(!displayObject.isVisible)continue;if(event.x>=displayObject.x&&event.x<=displayObject.x+displayObject.w&&event.y>=displayObject.y&&event.y<=displayObject.y+displayObject.h){dispatched=displayObject.dispatchEvent(event);captured=true}if(captured)break}if(captured)break}}if(!dispatched){if("x"in event&&"y"in event){event.x+=this.x;event.y+=this.y}return _get(Container.prototype.__proto__||Object.getPrototypeOf(Container.prototype),"dispatchEvent",this).call(this,event)}else{return true}}},{key:"onAddedToScene",value:function onAddedToScene(){_get(Container.prototype.__proto__||Object.getPrototypeOf(Container.prototype),"onAddedToScene",this).call(this);var l,d,layer,displayObject;for(l=0;l<this.layers.length;l++){layer=this.layers[l];for(d=0;d<layer.length;d++){displayObject=layer[d];displayObject.root=this.root;displayObject.scene=this.scene;displayObject.parent=this;displayObject.onAddedToScene()}}}},{key:"onRemovedFromScene",value:function onRemovedFromScene(){_get(Container.prototype.__proto__||Object.getPrototypeOf(Container.prototype),"onRemovedFromScene",this).call(this);for(var l=0;l<this.layers.length;l++){var layer=this.layers[l];for(var d=0;d<layer.length;d++){layer[d].onRemovedFromScene()}this.layers[l]=null}this.layers=new Array}},{key:"setScale",value:function setScale(scale){if(!this.scalable)return;var s=scale/this.scale;var d,l,layer,displayObject;for(l=0;l<this.layers.length;l++){layer=this.layers[l];for(d=0;d<layer.length;d++){displayObject=layer[d];displayObject.w*=s;displayObject.h*=s;displayObject.x*=s;displayObject.y*=s}}this.w*=s;this.h*=s;this.scale=scale}}]);return Container}(_SceneDisplayObject3.default);exports.default=Container},{"./SceneDisplayObject":13}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _SceneDisplayObject2=require("./SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);var _Color=require("minibot/graphics/Color");var _Color2=_interopRequireDefault(_Color);var _Pattern=require("minibot/graphics/Pattern");var _Pattern2=_interopRequireDefault(_Pattern);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Rect=function(_SceneDisplayObject){_inherits(Rect,_SceneDisplayObject);function Rect(width,height,mode,fill,strokeColor){_classCallCheck(this,Rect);var _this=_possibleConstructorReturn(this,(Rect.__proto__||Object.getPrototypeOf(Rect)).call(this));_this.w=width;_this.h=height;_this.mode=mode;if(fill!=undefined){if(fill.type==_Color2.default.TYPE){_this.fillColor=fill}else if(fill.type=_Pattern2.default.TYPE){_this.fillPattern=fill}}if(strokeColor!=undefined)_this.strokeColor=strokeColor;return _this}_createClass(Rect,[{key:"render",value:function render(dt,x,y){if(this.fillColor!=null)this.scene.setFillColor(this.fillColor);if(this.fillPattern!=null)this.scene.setFillPattern(this.fillPattern);this.scene.drawRect(this.mode,this.x+x,this.y+y,this.w,this.h)}}]);return Rect}(_SceneDisplayObject3.default);exports.default=Rect},{"./SceneDisplayObject":13,"minibot/graphics/Color":37,"minibot/graphics/Pattern":38}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EventDispatcher=require("minibot/event/EventDispatcher");var _EventDispatcher2=_interopRequireDefault(_EventDispatcher);var _Container=require("./Container");var _Container2=_interopRequireDefault(_Container);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Scene=function(){function Scene(options){_classCallCheck(this,Scene);this.options=options;this.container=new _Container2.default;this.container.resizable=false;this.container.setRoot(this.container);this.container.setScene(this)}_createClass(Scene,[{key:"hasOption",value:function hasOption(key){return this.options[key]!=undefined}},{key:"getOption",value:function getOption(key){return this.options[key]}},{key:"getBuffer",value:function getBuffer(){}},{key:"setWidth",value:function setWidth(width){this.width=width;this.container.setWidth(width)}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"setHeight",value:function setHeight(height){this.height=height;this.container.setHeight(height)}},{key:"getHeight",value:function getHeight(){return this.height}},{key:"addChild",value:function addChild(displayObject,layer){if(layer==undefined||layer==null)layer=0;this.container.addChild(displayObject,layer)}},{key:"removeChild",value:function removeChild(displayObject){this.container.removeChild(displayObject)}},{key:"removeAllChildren",value:function removeAllChildren(){this.container.removeAll()}},{key:"render",value:function render(dt){this.container.render(dt)}},{key:"clear",value:function clear(){}},{key:"drawBuffer",value:function drawBuffer(){}},{key:"drawImage",value:function drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh){}},{key:"drawLine",value:function drawLine(x1,y1,x2,y2){}},{key:"drawRect",value:function drawRect(mode,x,y,w,h){}},{key:"setFillColor",value:function setFillColor(color){}},{key:"setFillPattern",value:function setFillPattern(pattern){}},{key:"setLineColor",value:function setLineColor(color){}},{key:"setLineStyle",value:function setLineStyle(style){}},{key:"setLineWidth",value:function setLineWidth(width){}},{key:"save",value:function save(){}},{key:"restore",value:function restore(){}},{key:"translate",value:function translate(x,y){}},{key:"rotate",value:function rotate(a){}},{key:"addEventListener",value:function addEventListener(type,callback){this.container.addEventListener(type,callback)}},{key:"hasEventListener",value:function hasEventListener(type){return this.container.addEventListener(type)}},{key:"dispatchEvent",value:function dispatchEvent(event){return this.container.dispatchEvent(event)}},{key:"removeEventListener",value:function removeEventListener(type,callback){this.container.removeEventListener(type,callback)}},{key:"removeAllEventListeners",value:function removeAllEventListeners(){this.container.removeAllEventListeners()}}]);return Scene}();Scene.MOUSE_EVENTS=1;Scene.KEYBOARD_EVENTS=2;Scene.TOUCH_EVENTS=4;exports.default=Scene},{"./Container":10,"minibot/event/EventDispatcher":29}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _DisplayObject2=require("minibot/display/DisplayObject");var _DisplayObject3=_interopRequireDefault(_DisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SceneDisplayObject=function(_DisplayObject){_inherits(SceneDisplayObject,_DisplayObject);function SceneDisplayObject(){_classCallCheck(this,SceneDisplayObject);var _this=_possibleConstructorReturn(this,(SceneDisplayObject.__proto__||Object.getPrototypeOf(SceneDisplayObject)).call(this));_this.x=0;_this.y=0;_this.w=0;_this.h=0;_this.root=null;_this.scene=null;_this.isVisible=true;return _this}_createClass(SceneDisplayObject,[{key:"render",value:function render(dt,x,y){}},{key:"onAddedToScene",value:function onAddedToScene(){}},{key:"onRemovedFromScene",value:function onRemovedFromScene(){}},{key:"getScene",value:function getScene(){return this.scene}},{key:"getWidth",value:function getWidth(){return this.w}},{key:"getHeight",value:function getHeight(){return this.h}},{key:"getSceneX",value:function getSceneX(){var sceneX=0;if(this.parent!=null){sceneX+=this.parent.getSceneX()}sceneX+=this.x;return sceneX}},{key:"getSceneY",value:function getSceneY(){var sceneY=0;if(this.parent!=null){sceneY+=this.parent.getSceneY()}sceneY+=this.y;return sceneY}},{key:"setRoot",value:function setRoot(root){this.root=root}},{key:"setScene",value:function setScene(scene){this.scene=scene}},{key:"setWidth",value:function setWidth(width){this.w=width}},{key:"setHeight",value:function setHeight(height){this.h=height}},{key:"hide",value:function hide(){this.isVisible=false}},{key:"show",value:function show(){this.isVisible=true}},{key:"setAlign",value:function setAlign(align,objects,recursive){if(!(objects instanceof Array))objects=[objects];if(recursive==undefined)recursive=false;var object,t,o;switch(align){case _DisplayObject3.default.ALIGN_HORZ_CENTER:var t=this.getSceneX()+this.getWidth()/2;for(var i=0;i<objects.length;i++){object=objects[i];o=object.getSceneX()+object.getWidth()/2;object.x+=t-o}break;case _DisplayObject3.default.ALIGN_VERT_CENTER:var t=this.getSceneY()+this.getHeight()/2;for(var i=0;i<objects.length;i++){object=objects[i];o=object.getSceneY()+object.getHeight()/2;object.y+=t-o}break}}}]);return SceneDisplayObject}(_DisplayObject3.default);exports.default=SceneDisplayObject},{"minibot/display/DisplayObject":3}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _SceneDisplayObject2=require("minibot/display/scene/SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Sprite=function(_SceneDisplayObject){_inherits(Sprite,_SceneDisplayObject);function Sprite(sprite){_classCallCheck(this,Sprite);var _this=_possibleConstructorReturn(this,(Sprite.__proto__||Object.getPrototypeOf(Sprite)).call(this));_this.sprite=sprite;_this.w=sprite.w;_this.h=sprite.h;return _this}_createClass(Sprite,[{key:"render",value:function render(dt,x,y){try{this.scene.drawImage(this.sprite.img,this.sprite.x,this.sprite.y,this.sprite.w,this.sprite.h,this.x+x,this.y+y,this.w,this.h)}catch(error){console.log("SpriteObject: Fatal Error")}}}]);return Sprite}(_SceneDisplayObject3.default);exports.default=Sprite},{"minibot/display/scene/SceneDisplayObject":13}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _SceneDisplayObject2=require("minibot/display/scene/SceneDisplayObject");var _SceneDisplayObject3=_interopRequireDefault(_SceneDisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Text=function(_SceneDisplayObject){_inherits(Text,_SceneDisplayObject);function Text(text,style){_classCallCheck(this,Text);var _this=_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).call(this));_this.text=text;if(style!=undefined)_this.style=style;return _this}_createClass(Text,[{key:"setStyle",value:function setStyle(){}},{key:"getText",value:function getText(){return this.text}},{key:"getMetrics",value:function getMetrics(){return this.metrics}},{key:"setText",value:function setText(text){this.text=text}},{key:"render",value:function render(dt,x,y){this.scene.drawText("",this.text,this.style,this.x+x,this.y+y)}}]);return Text}(_SceneDisplayObject3.default);exports.default=Text},{"minibot/display/scene/SceneDisplayObject":13}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Color=require("minibot/graphics/Color");var _Color2=_interopRequireDefault(_Color);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TextStyle=function(){function TextStyle(family,size,color,align,weight){_classCallCheck(this,TextStyle);this.family=family;this.size=size;this.color=color;this.align=align;this.weight=weight?weight:""}_createClass(TextStyle,[{key:"getFamily",value:function getFamily(){return this.family}},{key:"getSize",value:function getSize(){return this.size}},{key:"getColor",value:function getColor(){return this.color}},{key:"getAlign",value:function getAlign(){return this.align}},{key:"getWeight",value:function getWeight(){return this.weight}}]);return TextStyle}();exports.default=TextStyle},{"minibot/graphics/Color":37}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EventDispatcher2=require("minibot/event/EventDispatcher");var _EventDispatcher3=_interopRequireDefault(_EventDispatcher2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Engine=function(_EventDispatcher){_inherits(Engine,_EventDispatcher);function Engine(){_classCallCheck(this,Engine);var _this=_possibleConstructorReturn(this,(Engine.__proto__||Object.getPrototypeOf(Engine)).call(this));_this.resources={};_this.systems=[];_this.systemsByType={};_this.objects=[];_this.objectsByType={};return _this}_createClass(Engine,[{key:"update",value:function update(dt){for(var s=0;s<this.updateOrder.length;s++){this.systemsByType[this.updateOrder[s]].update(dt)}}},{key:"render",value:function render(dt){}},{key:"renderPhysics",value:function renderPhysics(dt){}},{key:"setUpdateOrder",value:function setUpdateOrder(updateOrder){this.updateOrder=updateOrder}},{key:"addSystem",value:function addSystem(sys){var type=sys.getType();if(this.systemsByType[type]!=undefined){return}this.systems.push(sys);this.systemsByType[type]=sys;sys.setEngine(this);sys.onAddedToEngine()}},{key:"removeSystem",value:function removeSystem(){}},{key:"addObject",value:function addObject(obj){this.objects.push(obj);var type=obj.getType();if(this.objectsByType[type]==undefined){this.objectsByType[type]=[]}this.objectsByType[type].push(obj);for(var i=0;i<this.systems.length;i++){this.systems[i].addObject(obj)}obj.setEngine(this);obj.onAddedToEngine()}},{key:"removeObject",value:function removeObject(){}},{key:"getResources",value:function getResources(){return this.resources}},{key:"getResource",value:function getResource(type,id){if(this.resources[type]==undefined)return null;if(this.resources[type][id]==undefined)return null;return this.resources[type][id]}},{key:"addResource",value:function addResource(type,id){if(this.resources[type]==undefined)this.resources[type]={};this.resources[type][id]=null}},{key:"onResourcesLoaded",value:function onResourcesLoaded(){var i;for(i=0;i<this.systems.length;i++){this.systems[i].onResourcesLoaded()}for(i=0;i<this.objects.length;i++){this.objects[i].onResourcesLoaded()}}}]);return Engine}(_EventDispatcher3.default);exports.default=Engine},{"minibot/event/EventDispatcher":29
}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EngineEvent=require("minibot/event/EngineEvent");var _EngineEvent2=_interopRequireDefault(_EngineEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EngineComponent=function(){function EngineComponent(type){_classCallCheck(this,EngineComponent);this.type=type;this.eventQueue=[]}_createClass(EngineComponent,[{key:"getType",value:function getType(){return this.type}},{key:"setProperty",value:function setProperty(key,value){this.object.setProperty(key,value)}},{key:"getProperty",value:function getProperty(key){return this.object.getProperty(key)}},{key:"hasProperty",value:function hasProperty(key){return this.object.hasProperty(key)}},{key:"setObject",value:function setObject(object){this.object=object}},{key:"getObject",value:function getObject(){return this.object}},{key:"onAddedToObject",value:function onAddedToObject(){}},{key:"setSystem",value:function setSystem(system){this.system=system}},{key:"getSystem",value:function getSystem(){return this.system}},{key:"onAddedToSystem",value:function onAddedToSystem(){}},{key:"buildEvent",value:function buildEvent(type,data){return this.object.buildEvent(type,data,this)}},{key:"queueEvent",value:function queueEvent(event){this.eventQueue.push(event)}},{key:"flushEventQueue",value:function flushEventQueue(){while(this.eventQueue.length){this.dispatchEvent(this.eventQueue.pop())}}},{key:"dispatchEvent",value:function dispatchEvent(event){this.object.dispatchEvent(event)}},{key:"addEventListener",value:function addEventListener(type,callback){this.object.addEventListener(type,callback)}},{key:"addResource",value:function addResource(type,id){if(this.system==null)return;this.system.addResource(type,id)}},{key:"getResource",value:function getResource(type,id){if(this.system==null)return;return this.system.getResource(type,id)}},{key:"onResourcesLoaded",value:function onResourcesLoaded(){}},{key:"update",value:function update(dt){}}]);return EngineComponent}();exports.default=EngineComponent},{"minibot/event/EngineEvent":28}],19:[function(require,module,exports){"use strict"},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EventDispatcher2=require("minibot/event/EventDispatcher");var _EventDispatcher3=_interopRequireDefault(_EventDispatcher2);var _EngineEvent=require("minibot/event/EngineEvent");var _EngineEvent2=_interopRequireDefault(_EngineEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EngineObject=function(_EventDispatcher){_inherits(EngineObject,_EventDispatcher);function EngineObject(type,data){_classCallCheck(this,EngineObject);var _this=_possibleConstructorReturn(this,(EngineObject.__proto__||Object.getPrototypeOf(EngineObject)).call(this));_this.type=type;_this.components={};if(data==undefined)data={};_this.data=data;return _this}_createClass(EngineObject,[{key:"getType",value:function getType(){return this.type}},{key:"addComponent",value:function addComponent(component){var type=component.getType();if(this.components[type]==undefined){this.components[type]=component;component.setObject(this);component.onAddedToObject()}}},{key:"removeComponent",value:function removeComponent(component){}},{key:"setEngine",value:function setEngine(engine){this.engine=engine}},{key:"getEngine",value:function getEngine(){return this.engine}},{key:"onAddedToEngine",value:function onAddedToEngine(){}},{key:"onResourcesLoaded",value:function onResourcesLoaded(){for(var c in this.components){this.components[c].onResourcesLoaded()}}},{key:"getComponent",value:function getComponent(type){if(this.components[type]!=undefined){return this.components[type]}return null}},{key:"hasComponent",value:function hasComponent(type){return this.components[type]!=undefined}},{key:"update",value:function update(dt){for(var c in this.components){this.components[c].update(dt)}}},{key:"setProperty",value:function setProperty(key,value){this.data[key]=value}},{key:"getProperty",value:function getProperty(key){return this.data[key]}},{key:"hasProperty",value:function hasProperty(key){return this.data[key]!=undefined}},{key:"buildEvent",value:function buildEvent(type,data,component){if(component==undefined)component=null;return new _EngineEvent2.default(type,this,component,data)}}]);return EngineObject}(_EventDispatcher3.default);exports.default=EngineObject},{"minibot/event/EngineEvent":28,"minibot/event/EventDispatcher":29}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EngineSystem=function(){function EngineSystem(type){_classCallCheck(this,EngineSystem);this.type=type;this.components=[];this.componentsByObject={};this.engine=null}_createClass(EngineSystem,[{key:"getType",value:function getType(){return this.type}},{key:"addObject",value:function addObject(obj){if(obj.hasComponent(this.type)){var c=obj.getComponent(this.type);this.components.push(c);this.componentsByObject[obj]=c;c.setSystem(this);c.onAddedToSystem();return c}return null}},{key:"addResource",value:function addResource(type,id){if(!this.engine)return;this.engine.addResource(type,id)}},{key:"getResource",value:function getResource(type,id){if(!this.engine)return;return this.engine.getResource(type,id)}},{key:"removeObject",value:function removeObject(obj){}},{key:"setEngine",value:function setEngine(engine){this.engine=engine}},{key:"getEngine",value:function getEngine(){return this.engine}},{key:"onAddedToEngine",value:function onAddedToEngine(){}},{key:"onResourcesLoaded",value:function onResourcesLoaded(){}},{key:"update",value:function update(dt){}},{key:"updateComponents",value:function updateComponents(dt){for(var i=0;i<this.components.length;i++){this.components[i].update(dt)}}}]);return EngineSystem}();exports.default=EngineSystem},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EngineComponent2=require("minibot/engine/EngineComponent");var _EngineComponent3=_interopRequireDefault(_EngineComponent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DisplayComponent=function(_EngineComponent){_inherits(DisplayComponent,_EngineComponent);function DisplayComponent(type){_classCallCheck(this,DisplayComponent);return _possibleConstructorReturn(this,(DisplayComponent.__proto__||Object.getPrototypeOf(DisplayComponent)).call(this,type))}_createClass(DisplayComponent,[{key:"update",value:function update(dt){}},{key:"onAddedToSystem",value:function onAddedToSystem(){this.scene=this.getSystem().getScene()}},{key:"render",value:function render(dt,layer,x,y){}},{key:"getLayers",value:function getLayers(){return[]}},{key:"isVisible",value:function isVisible(){return true}}]);return DisplayComponent}(_EngineComponent3.default);exports.default=DisplayComponent},{"minibot/engine/EngineComponent":18}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _EngineComponent2=require("minibot/engine/EngineComponent");var _EngineComponent3=_interopRequireDefault(_EngineComponent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InputComponent=function(_EngineComponent){_inherits(InputComponent,_EngineComponent);function InputComponent(){_classCallCheck(this,InputComponent);return _possibleConstructorReturn(this,(InputComponent.__proto__||Object.getPrototypeOf(InputComponent)).apply(this,arguments))}return InputComponent}(_EngineComponent3.default);exports.default=InputComponent},{"minibot/engine/EngineComponent":18}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _EngineComponent2=require("minibot/engine/EngineComponent");var _EngineComponent3=_interopRequireDefault(_EngineComponent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PhysicsComponent=function(_EngineComponent){_inherits(PhysicsComponent,_EngineComponent);function PhysicsComponent(){_classCallCheck(this,PhysicsComponent);return _possibleConstructorReturn(this,(PhysicsComponent.__proto__||Object.getPrototypeOf(PhysicsComponent)).apply(this,arguments))}return PhysicsComponent}(_EngineComponent3.default);exports.default=PhysicsComponent},{"minibot/engine/EngineComponent":18}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _EngineSystem2=require("minibot/engine/EngineSystem");var _EngineSystem3=_interopRequireDefault(_EngineSystem2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DisplaySystem=function(_EngineSystem){_inherits(DisplaySystem,_EngineSystem);function DisplaySystem(type,scene){_classCallCheck(this,DisplaySystem);var _this=_possibleConstructorReturn(this,(DisplaySystem.__proto__||Object.getPrototypeOf(DisplaySystem)).call(this,type));_this.scene=scene;_this.layers=new Array;return _this}_createClass(DisplaySystem,[{key:"update",value:function update(dt){this.updateComponents(dt)}},{key:"addObject",value:function addObject(obj){var c=$super(obj);if(c==null)return null;var l=c.getLayers();for(var i=0;i<l.length;i++){this.addToLayer(c,l[i])}}},{key:"addToLayer",value:function addToLayer(component,layer){while(!this.layers[layer]){this.layers.push([])}this.layers[layer].push(component)}},{key:"onAddedToEngine",value:function onAddedToEngine(){}},{key:"getScene",value:function getScene(){return this.scene}},{key:"getCamera",value:function getCamera(){return this.engine.getCamera()}},{key:"render",value:function render(dt){var camera=this.getCamera();var cameraX=camera.getProperty("x")*-1;var cameraY=camera.getProperty("y")*-1;var i,j,layer,component;for(i=0;i<this.layers.length;i++){layer=this.layers[i];for(j=0;j<layer.length;j++){component=layer[j];if(!component.isVisible())continue;component.render(dt,i,cameraX,cameraY)}}}}]);return DisplaySystem}(_EngineSystem3.default);exports.default=DisplaySystem},{"minibot/engine/EngineSystem":21}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BaseEvent=function(){function BaseEvent(type,bubbles,cancelable){_classCallCheck(this,BaseEvent);this.type=type;this.target=null;this.currentTarget=null;this.bubbles=bubbles==undefined?false:bubbles;this.cancelable=cancelable==undefined?false:cancelable;this.currentPhase=null}_createClass(BaseEvent,[{key:"preventDefault",value:function preventDefault(){}}]);return BaseEvent}();exports.default=BaseEvent},{}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _BaseEvent2=require("./BaseEvent");var _BaseEvent3=_interopRequireDefault(_BaseEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ButtonEvent=function(_BaseEvent){_inherits(ButtonEvent,_BaseEvent);function ButtonEvent(type,bubbles,cancelable,displayObject){_classCallCheck(this,ButtonEvent);var _this=_possibleConstructorReturn(this,(ButtonEvent.__proto__||Object.getPrototypeOf(ButtonEvent)).call(this,type,bubbles,cancelable));_this.displayObject=displayObject;return _this}return ButtonEvent}(_BaseEvent3.default);ButtonEvent.SELECT="buttonSelect";exports.default=ButtonEvent},{"./BaseEvent":26}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _BaseEvent2=require("./BaseEvent");var _BaseEvent3=_interopRequireDefault(_BaseEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var EngineEvent=function(_BaseEvent){_inherits(EngineEvent,_BaseEvent);function EngineEvent(type,object,component,data){_classCallCheck(this,EngineEvent);var _this=_possibleConstructorReturn(this,(EngineEvent.__proto__||Object.getPrototypeOf(EngineEvent)).call(this,type,false,false));_this.object=object;_this.component=component;_this.data=data;return _this}return EngineEvent}(_BaseEvent3.default);exports.default=EngineEvent},{"./BaseEvent":26}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher);this.listeners={}}_createClass(EventDispatcher,[{key:"addEventListener",value:function addEventListener(type,callback){var callbacks;if(this.listeners[type]==undefined){callbacks=new Array;this.listeners[type]=callbacks}else{callbacks=this.listeners[type]}callbacks.push(callback)}},{key:"hasEventListener",value:function hasEventListener(type){return this.listeners[type]!=undefined}},{key:"dispatchEvent",value:function dispatchEvent(event){var callbacks;if(this.listeners[event.type]==undefined){return false}else{callbacks=this.listeners[event.type]}event.target=this;for(var i=0;i<callbacks.length;i++){var callback=callbacks[i];callback(event)}return true}},{key:"removeEventListener",value:function removeEventListener(type,callback){var callbacks;if(this.listeners[type]==undefined){return}else{callbacks=this.listeners[type]}var i=callbacks.indexOf(callback);if(i==-1)return;callbacks.splice(i,1);if(callbacks.length==0){delete this.listeners[type]}}},{key:"removeAllEventListeners",value:function removeAllEventListeners(){this.listeners={}}}]);return EventDispatcher}();exports.default=EventDispatcher},{}],30:[function(require,module,exports){"use strict"},{}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _BaseEvent2=require("./BaseEvent");var _BaseEvent3=_interopRequireDefault(_BaseEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var KeyboardEvent=function(_BaseEvent){_inherits(KeyboardEvent,_BaseEvent);function KeyboardEvent(type,bubbles,cancelable,key){_classCallCheck(this,KeyboardEvent);var _this=_possibleConstructorReturn(this,(KeyboardEvent.__proto__||Object.getPrototypeOf(KeyboardEvent)).call(this,type,bubbles,cancelable));_this.key=key;return _this}return KeyboardEvent}(_BaseEvent3.default);KeyboardEvent.KEY_DOWN="keyDown";KeyboardEvent.KEY_UP="keyUp";exports.default=KeyboardEvent},{"./BaseEvent":26}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _BaseEvent2=require("./BaseEvent");var _BaseEvent3=_interopRequireDefault(_BaseEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MouseEvent=function(_BaseEvent){_inherits(MouseEvent,_BaseEvent);function MouseEvent(type,bubbles,cancelable,x,y,displayObject){_classCallCheck(this,MouseEvent);var _this=_possibleConstructorReturn(this,(MouseEvent.__proto__||Object.getPrototypeOf(MouseEvent)).call(this,type,bubbles,cancelable));_this.x=x;_this.y=y;_this.displayObject=displayObject;return _this}return MouseEvent}(_BaseEvent3.default);MouseEvent.CLICK="mouseClick";MouseEvent.MOUSE_DOWN="mouseDown";MouseEvent.MOUSE_UP="mouseUp";MouseEvent.MOUSE_MOVE="mouseMove";exports.default=MouseEvent},{"./BaseEvent":26}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _BaseEvent2=require("./BaseEvent");var _BaseEvent3=_interopRequireDefault(_BaseEvent2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TouchEvent=function(_BaseEvent){_inherits(TouchEvent,_BaseEvent);function TouchEvent(type,bubbles,cancelable,x,y,displayObject){_classCallCheck(this,TouchEvent);var _this=_possibleConstructorReturn(this,(TouchEvent.__proto__||Object.getPrototypeOf(TouchEvent)).call(this,type,bubbles,cancelable));_this.x=x;_this.y=y;_this.displayObject=displayObject;return _this}return TouchEvent}(_BaseEvent3.default);TouchEvent.TOUCH_START="touchStart";TouchEvent.TOUCH_END="touchEnd";TouchEvent.TOUCH_MOVE="touchMove";exports.default=TouchEvent},{"./BaseEvent":26}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default={KEY_A:"A",KEY_B:"B",KEY_C:"C",KEY_D:"D",KEY_E:"E",KEY_F:"F",KEY_G:"G",KEY_H:"H",KEY_I:"I",KEY_J:"J",KEY_K:"K",KEY_L:"L",KEY_M:"M",KEY_N:"N",KEY_O:"O",KEY_P:"P",KEY_Q:"Q",KEY_R:"R",KEY_S:"S",KEY_T:"T",KEY_U:"U",KEY_V:"V",KEY_W:"W",KEY_X:"X",KEY_Y:"Y",KEY_Z:"Z",KEY_0:0,KEY_1:1,KEY_2:2,KEY_3:3,KEY_4:4,KEY_5:5,KEY_6:6,KEY_7:7,KEY_8:8,KEY_9:9,KEY_UP:10,KEY_RIGHT:11,KEY_DOWN:12,KEY_LEFT:13,KEY_SPACE:" "}},{}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Rectangle=function Rectangle(x,y,w,h){_classCallCheck(this,Rectangle);this.x=x;this.y=y;this.w=w;this.h=h};exports.default=Rectangle},{}],36:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Vector2=function(){function Vector2(x,y){_classCallCheck(this,Vector2);this.x=x||0;this.y=y||0}_createClass(Vector2,[{key:"reset",value:function reset(x,y){this.x=x;this.y=y;return this}},{key:"toString",value:function toString(decPlaces){decPlaces=decPlaces||3;var scalar=Math.pow(10,decPlaces);return"["+Math.round(this.x*scalar)/scalar+", "+Math.round(this.y*scalar)/scalar+"]"}},{key:"clone",value:function clone(){return new Vector2(this.x,this.y)}},{key:"copyTo",value:function copyTo(v){v.x=this.x;v.y=this.y}},{key:"copyFrom",value:function copyFrom(v){this.x=v.x;this.y=v.y}},{key:"magnitude",value:function magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitudeSquared",value:function magnitudeSquared(){return this.x*this.x+this.y*this.y}},{key:"normalise",value:function normalise(){return this.normailize()}},{key:"normalize",value:function normalize(){var m=this.magnitude();if(m==0)return this;this.x=this.x/m;this.y=this.y/m;return this}},{key:"reverse",value:function reverse(){this.x=-this.x;this.y=-this.y;return this}},{key:"plusEq",value:function plusEq(v){this.x+=v.x;this.y+=v.y;return this}},{key:"plusNew",value:function plusNew(v){return new Vector2(this.x+v.x,this.y+v.y)}},{key:"minusEq",value:function minusEq(v){this.x-=v.x;this.y-=v.y;return this}},{key:"minusNew",value:function minusNew(v){return new Vector2(this.x-v.x,this.y-v.y)}},{key:"multiplyEq",value:function multiplyEq(scalar){this.x*=scalar;this.y*=scalar;return this}},{key:"multiplyNew",value:function multiplyNew(scalar){var returnvec=this.clone();return returnvec.multiplyEq(scalar)}},{key:"divideEq",value:function divideEq(scalar){this.x/=scalar;this.y/=scalar;return this}},{key:"divideNew",value:function divideNew(scalar){var returnvec=this.clone();return returnvec.divideEq(scalar)}},{key:"dot",value:function dot(v){return this.x*v.x+this.y*v.y}},{key:"angle",value:function angle(useRadians){return Math.atan2(this.y,this.x)*(useRadians?1:Vector2.TO_DEGREES)}},{key:"rotate",value:function rotate(angle,useRadians){var cosRY=Math.cos(angle*(useRadians?1:Vector2.TO_RADIANS));
var sinRY=Math.sin(angle*(useRadians?1:Vector2.TO_RADIANS));Vector2.temp.copyFrom(this);this.x=Vector2.temp.x*cosRY-Vector2.temp.y*sinRY;this.y=Vector2.temp.x*sinRY+Vector2.temp.y*cosRY;return this}},{key:"equals",value:function equals(v){return this.x==v.x&&this.y==v.x}},{key:"isCloseTo",value:function isCloseTo(v,tolerance){if(this.equals(v))return true;Vector2.temp.copyFrom(this);Vector2.temp.minusEq(v);return Vector2.temp.magnitudeSquared()<tolerance*tolerance}},{key:"rotateAroundPoint",value:function rotateAroundPoint(point,angle,useRadians){Vector2.temp.copyFrom(this);Vector2.temp.minusEq(point);Vector2.temp.rotate(angle,useRadians);Vector2.temp.plusEq(point);this.copyFrom(Vector2.temp)}},{key:"isMagLessThan",value:function isMagLessThan(distance){return this.magnitudeSquared()<distance*distance}},{key:"isMagGreaterThan",value:function isMagGreaterThan(distance){return this.magnitudeSquared()>distance*distance}}]);return Vector2}();Vector2.TO_DEGREES=180/Math.PI;Vector2.TO_RADIANS=Math.PI/180;Vector2.temp=new Vector2;exports.default=Vector2},{}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Color=function(){function Color(mode,v1,v2,v3,a){_classCallCheck(this,Color);this.type=Color.TYPE;this.setColor(mode,v1,v2,v3,a)}_createClass(Color,[{key:"setColor",value:function setColor(mode,v1,v2,v3,a){this.mode=mode;this.a=a!=undefined?a:1;if(mode==Color.RGB){this.r=v1;this.g=v2;this.b=v3}else if(mode==Color.HSL){this.h=v1;this.s=v2;this.l=v3;var rgb=Color.HslToRgb(this.h,this.s,this.l);this.r=Math.round(rgb[0]);this.g=Math.round(rgb[1]);this.b=Math.round(rgb[2])}else{throw new Error("Color: unrecognized color mode.")}}},{key:"getAsArray",value:function getAsArray(mode){if(mode==Color.RGB){return[this.r,this.g,this.b,this.a]}else if(mode==Color.HSL){return[this.h,this.s,this.l,this.a]}else{throw new Error("Color: unrecognized color mode.")}}},{key:"getAsString",value:function getAsString(mode,spacer){spacer=spacer==undefined?",":spacer;return this.getAsArray(mode).join(spacer)}}]);return Color}();Color.RgbToHsl=function(r,g,b){};Color.HslToRgb=function(h,s,l){if(s<=0){return[l,l,l]}h=h/256*6;s=s/255;l=l/255;var c=(1-Math.abs(2*l-1))*s,x=(1-Math.abs(h%2-1))*c,m=l-.5*c,r=0,g=0,b=0;if(h<1){r=c;g=x;b=0}else if(h<2){r=x;g=c;b=0}else if(h<3){r=0;g=c;b=x}else if(h<4){r=0;g=x;b=c}else if(h<5){r=x;g=0;b=c}else{r=c;g=0;b=x}return[(r+m)*255,(g+m)*255,(b+m)*255]};Color.FromHex=function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);if(result){return new Color(Color.RGB,parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16))}else{return null}return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null};Color.RGB="rgb";Color.HSL="hsl";Color.TYPE="color";exports.default=Color},{}],38:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Pattern=function(){function Pattern(sprite,repeat){_classCallCheck(this,Pattern);if(repeat==undefined)repeat=Pattern.REPEAT;this.repeat=repeat;this.type=Pattern.TYPE;this.sprite=sprite}_createClass(Pattern,[{key:"hasPattern",value:function hasPattern(){return this.pattern!=null}},{key:"setPattern",value:function setPattern(pattern){this.pattern=pattern}},{key:"getPattern",value:function getPattern(){return this.pattern}}]);return Pattern}();exports.default=Pattern},{}],39:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Utils=require("minibot/core/Utils");var Utils=_interopRequireWildcard(_Utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _toString=Object.prototype.toString,NULL_TYPE="Null",UNDEFINED_TYPE="Undefined",BOOLEAN_TYPE="Boolean",NUMBER_TYPE="Number",STRING_TYPE="String",OBJECT_TYPE="Object",FUNCTION_CLASS="[object Function]",BOOLEAN_CLASS="[object Boolean]",NUMBER_CLASS="[object Number]",STRING_CLASS="[object String]",ARRAY_CLASS="[object Array]",DATE_CLASS="[object Date]";var $break={};function extend(destination,source){for(var property in source){destination[property]=source[property]}return destination}function isHash(object){return object instanceof Object}function isFunction(object){return _toString.call(object)===FUNCTION_CLASS}function isString(object){return _toString.call(object)===STRING_CLASS}function isNumber(object){return _toString.call(object)===NUMBER_CLASS}function isDate(object){return _toString.call(object)===DATE_CLASS}function isUndefined(object){return typeof object==="undefined"}function include(arr,object){if(isFunction(arr.indexOf))if(arr.indexOf(object)!=-1)return true;var found=false;for(var i=0;i<arr.length;i++){if(arr[i]==object){found=true;break}}return found}function isJSON(str){if(str.blank())return false;str=str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");str=str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");str=str.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(str)}function evalJSON(json,sanitize){try{if(!sanitize||isJSON(json))return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+json)}var Try={these:function these(){var returnValue;for(var i=0,length=arguments.length;i<length;i++){var lambda=arguments[i];try{returnValue=lambda();break}catch(e){}}return returnValue}};var Ajax={getTransport:function getTransport(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};var Responders={responders:[],register:function register(responder){if(!include(this,responder))this.responders.push(responder)},unregister:function unregister(responder){this.responders=this.responders.without(responder)},dispatch:function dispatch(callback,request,transport,json){var responder;for(var i=0;i<this.responders.length;i++){responder=this.responders[i];if(isFunction(responder[callback])){try{responder[callback].apply(responder,[request,transport,json])}catch(e){}}}}};Responders.register({onCreate:function onCreate(){Ajax.activeRequestCount++},onComplete:function onComplete(){Ajax.activeRequestCount--}});var Base=function Base(options){_classCallCheck(this,Base);this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:true,evalJS:true};extend(this.options,options||{});this.options.method=this.options.method.toLowerCase();if(isHash(this.options.parameters))this.options.parameters=this.options.parameters.toObject()};var Request=function(_Base){_inherits(Request,_Base);function Request(url,options){_classCallCheck(this,Request);var _this=_possibleConstructorReturn(this,(Request.__proto__||Object.getPrototypeOf(Request)).call(this,options));_this.complete=false;_this.transport=Ajax.getTransport();_this.request(url);return _this}_createClass(Request,[{key:"request",value:function request(url){this.url=url;this.method=this.options.method;var params=isString(this.options.parameters)?this.options.parameters:toQueryString(this.options.parameters);if(!include(["get","post"],this.method)){params+=(params?"&":"")+"_method="+this.method;this.method="post"}if(params&&this.method==="get"){this.url+=(include(this.url,"?")?"&":"?")+params}this.parameters=Utils.StringToQueryParams(params);try{var response=new Response(this);if(this.options.onCreate)this.options.onCreate(response);Responders.dispatch("onCreate",this,response);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous)Utils.Defer(this.respondToReadyState,this,1);this.transport.onreadystatechange=Utils.Bind(this.onStateChange,this);this.setRequestHeaders();this.body=this.method=="post"?this.options.postBody||params:null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType)this.onStateChange()}catch(e){this.dispatchException(e)}}},{key:"onStateChange",value:function onStateChange(){var readyState=this.transport.readyState;if(readyState>1&&!(readyState==4&&this._complete))this.respondToReadyState(this.transport.readyState)}},{key:"setRequestHeaders",value:function setRequestHeaders(){var headers={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){headers["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005)headers["Connection"]="close"}if(_typeof(this.options.requestHeaders)=="object"){var extras=this.options.requestHeaders;if(isFunction(extras.push))for(var i=0,length=extras.length;i<length;i+=2){headers[extras[i]]=extras[i+1]}else $H(extras).each(function(pair){headers[pair.key]=pair.value})}for(var name in headers){this.transport.setRequestHeader(name,headers[name])}}},{key:"success",value:function success(){var status=this.getStatus();return!status||status>=200&&status<300||status==304}},{key:"getStatus",value:function getStatus(){try{if(this.transport.status===1223)return 204;return this.transport.status||0}catch(e){return 0}}},{key:"respondToReadyState",value:function respondToReadyState(readyState){var state=Request.Events[readyState],response=new Response(this);if(state=="Complete"){try{this._complete=true;(this.options["on"+response.status]||this.options["on"+(this.success()?"Success":"Failure")]||function(){})(response,response.headerJSON)}catch(e){this.dispatchException(e)}var contentType=response.getHeader("Content-type");if(this.options.evalJS=="force"||this.options.evalJS&&this.isSameOrigin()&&contentType&&contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))this.evalResponse()}try{(this.options["on"+state]||function(){})(response,response.headerJSON);Responders.dispatch("on"+state,this,response,response.headerJSON)}catch(e){this.dispatchException(e)}if(state=="Complete"){this.transport.onreadystatechange=function(){}}}},{key:"isSameOrigin",value:function isSameOrigin(){var m=this.url.match(/^\s*https?:\/\/[^\/]*/);return!m||m[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})}},{key:"getHeader",value:function getHeader(name){try{return this.transport.getResponseHeader(name)||null}catch(e){return null}}},{key:"evalResponse",value:function evalResponse(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}}},{key:"dispatchException",value:function dispatchException(exception){(this.options.onException||function(){})(this,exception);Responders.dispatch("onException",this,exception)}}]);return Request}(Base);Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];var Response=function(){function Response(request){_classCallCheck(this,Response);this.status=0;this.statusText="";this.request=request;var transport=this.transport=request.transport,readyState=this.readyState=transport.readyState;var BROWSER_IS_IE=false;if(readyState>2&&!BROWSER_IS_IE||readyState==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=transport.responseText==null?"":String(transport.responseText);this.headerJSON=this._getHeaderJSON()}if(readyState==4){var xml=transport.responseXML;this.responseXML=isUndefined(xml)?null:xml;this.responseJSON=this._getResponseJSON()}}_createClass(Response,[{key:"getStatus",value:function getStatus(){return Request.prototype.getStatus()}},{key:"getStatusText",value:function getStatusText(){try{return this.transport.statusText||""}catch(e){return""}}},{key:"getHeader",value:function getHeader(name){return Request.prototype.getHeader(name)}},{key:"getAllHeaders",value:function getAllHeaders(){try{return this.getAllResponseHeaders()}catch(e){return null}}},{key:"getResponseHeader",value:function getResponseHeader(name){return this.transport.getResponseHeader(name)}},{key:"getAllResponseHeaders",value:function getAllResponseHeaders(){return this.transport.getAllResponseHeaders()}},{key:"_getHeaderJSON",value:function _getHeaderJSON(){var json=this.getHeader("X-JSON");if(!json)return null;json=decodeURIComponent(escape(json));try{return evalJSON(json,this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}}},{key:"_getResponseJSON",value:function _getResponseJSON(){var options=this.request.options;if(!options.evalJSON||options.evalJSON!="force"&&!(include(this.getHeader("Content-type")||""),"application/json")||this.responseText.blank())return null;try{return evalJSON(this.responseText,options.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}}}]);return Response}();Ajax.Request=Request;Ajax.Response=Response;exports.default=Ajax},{"minibot/core/Utils":2}],40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Resource2=require("minibot/resource/Resource");var _Resource3=_interopRequireDefault(_Resource2);var _SpriteResource=require("minibot/resource/SpriteResource");var _SpriteResource2=_interopRequireDefault(_SpriteResource);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AnimationResource=function(_Resource){_inherits(AnimationResource,_Resource);function AnimationResource(id,data){_classCallCheck(this,AnimationResource);var _this=_possibleConstructorReturn(this,(AnimationResource.__proto__||Object.getPrototypeOf(AnimationResource)).call(this,id));_this.spriteIds=[];_this.delays=[];if(data.frames!=undefined){for(var i=0;i<data.frames.length;i++){_this.spriteIds.push(data.frames[i].sprite_id);_this.delays.push(data.frames[i].delay)}}_this.numberOfFrames=_this.spriteIds.length;_this.sprites=[];return _this}_createClass(AnimationResource,[{key:"load",value:function load(manager,callback){for(var i=0;i<this.spriteIds.length;i++){var sprite=manager.getResource(_SpriteResource2.default.TYPE,this.spriteIds[i]);this.sprites.push(sprite)}this.loaded=true;callback()}},{key:"addFrame",value:function addFrame(sprite,delay){this.sprites.push_back(sprite);this.delays.push_back(delay);this.numberOfFrames++}},{key:"getSprite",value:function getSprite(index){return this.sprites[index]}},{key:"getDelay",value:function getDelay(index){return this.delays[index]}},{key:"nextFrame",value:function nextFrame(index){return(index+1)%this.numberOfFrames}},{key:"atEnd",value:function atEnd(index){return index+1==this.numberOfFrames}}]);return AnimationResource}(_Resource3.default);AnimationResource.TYPE=3;exports.default=AnimationResource},{"minibot/resource/Resource":42,"minibot/resource/SpriteResource":44}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Resource2=require("minibot/resource/Resource");var _Resource3=_interopRequireDefault(_Resource2);var _Utils=require("minibot/core/Utils");var Utils=_interopRequireWildcard(_Utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ImageResource=function(_Resource){_inherits(ImageResource,_Resource);function ImageResource(id,data){_classCallCheck(this,ImageResource);var _this=_possibleConstructorReturn(this,(ImageResource.__proto__||Object.getPrototypeOf(ImageResource)).call(this,id));_this.src=null;_this.img=null;if(data.src!=undefined)_this.src=data.src;return _this}_createClass(ImageResource,[{key:"load",value:function load(manager,callback){this.loaded=true;if(this.src!=null){this.img=new Image;this.img.addEventListener("load",Utils.BindAsEventListener(this.handleLoadImageSuccess,this,callback),false);this.img.addEventListener("error",Utils.BindAsEventListener(this.handleLoadImageFailure,this,callback),false);this.img.src=this.src}else{callback()}}},{key:"handleLoadImageSuccess",value:function handleLoadImageSuccess(event,callback){callback()}},{key:"handleLoadImageFailure",value:function handleLoadImageFailure(event,callback){console.log("ImageResource: Failed to load image.");callback()}}]);return ImageResource}(_Resource3.default);ImageResource.TYPE=1;exports.default=ImageResource},{"minibot/core/Utils":2,"minibot/resource/Resource":42}],42:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Utils=require("minibot/core/Utils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Resource=function(){function Resource(id){_classCallCheck(this,Resource);this.id=id;this.loaded=false}_createClass(Resource,[{key:"load",value:function load(manager,callback){this.loaded=true;(0,_Utils.Defer)(callback,this)}},{key:"isLoaded",value:function isLoaded(){return this.loaded}}]);return Resource}();exports.default=Resource},{"minibot/core/Utils":2}],43:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Manager2=require("minibot/core/Manager");var _Manager3=_interopRequireDefault(_Manager2);var _Utils=require("minibot/core/Utils");var Utils=_interopRequireWildcard(_Utils);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ResourceManager=function(_Manager){_inherits(ResourceManager,_Manager);function ResourceManager(key){_classCallCheck(this,ResourceManager);var _this=_possibleConstructorReturn(this,(ResourceManager.__proto__||Object.getPrototypeOf(ResourceManager)).call(this,key));_this.resourceCount=0;_this.loadedCount=0;_this.typeIndex=null;_this.typeLoadedCount=0;_this.typeOrder=[];_this.typeCount=[];_this.typeMap={};_this.resourceMap={};return _this}_createClass(ResourceManager,[{key:"addType",value:function addType(type,className){this.typeOrder.push(type);this.typeCount.push(0);this.typeMap[type]=className;this.resourceMap[type]={}}},{key:"addResource",value:function addResource(type,id,data){if(this.typeMap[type]==undefined)return;var className=this.typeMap[type];var resource=new className(id,data);this.resourceMap[type][id]=resource;this.resourceCount+=1;for(var i=0;i<this.typeOrder.length;i++){if(type==this.typeOrder[i]){this.typeCount[i]+=1;break}}}},{key:"loadAll",value:function loadAll(progressCallback,completeCallback){this.progressCallback=progressCallback;this.completeCallback=completeCallback;this.typeIndex=null;this.loadNextType()}},{key:"loadNextType",value:function loadNextType(){if(this.typeIndex==null){this.typeIndex=0}else{this.typeIndex+=1}if(this.typeIndex>=this.typeOrder.length){Utils.Defer(this.completeCallback,this);return}this.typeLoadedCount=0;var type=this.typeOrder[this.typeIndex];var resources;var id;var count=0;resources=this.resourceMap[type];for(id in resources){this.loadResource(type,id);count++}if(count==0){this.loadNextType()}}},{key:"loadResource",value:function loadResource(type,id){var resource=this.resourceMap[type][id];if(resource.isLoaded()){this.handleResourceLoaded()}else{resource.load(this,Utils.Bind(this.handleResourceLoaded,this))}}},{key:"handleResourceLoaded",value:function handleResourceLoaded(){this.typeLoadedCount+=1;var progress=Number(1/this.resourceCount);this.progressCallback(progress);if(this.typeLoadedCount>=this.typeCount[this.typeIndex]){Utils.Defer(this.loadNextType,this)}}},{key:"getResource",value:function getResource(type,id){if(this.resourceMap[type]==undefined)return null;if(this.resourceMap[type][id]==undefined)return null;return this.resourceMap[type][id]}}]);return ResourceManager}(_Manager3.default);ResourceManager.getInstance=function(key){if(!_Manager3.default.hasCore(key)){new ResourceManager(key)}var retVal=_Manager3.default.getInstance(key);return retVal};exports.default=ResourceManager},{"minibot/core/Manager":1,"minibot/core/Utils":2}],44:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Resource2=require("minibot/resource/Resource");var _Resource3=_interopRequireDefault(_Resource2);var _ImageResource=require("minibot/resource/ImageResource");var _ImageResource2=_interopRequireDefault(_ImageResource);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SpriteResource=function(_Resource){_inherits(SpriteResource,_Resource);function SpriteResource(id,data){_classCallCheck(this,SpriteResource);var _this=_possibleConstructorReturn(this,(SpriteResource.__proto__||Object.getPrototypeOf(SpriteResource)).call(this,id));_this.imageId=null;_this.imageResource=null;_this.img=null;_this.x=0;_this.y=0;_this.w=-1;_this.h=-1;if(data!=undefined){if(data.image_id!=undefined)_this.imageId=data.image_id;else if(data.imageId!=undefined)_this.imageId=data.imageId;if(data.x!=undefined)_this.x=data.x;if(data.y!=undefined)_this.y=data.y;if(data.w!=undefined)_this.w=data.w;if(data.h!=undefined)_this.h=data.h}return _this}_createClass(SpriteResource,[{key:"load",value:function load(manager,callback){try{this.imageResource=manager.getResource(_ImageResource2.default.TYPE,this.imageId);this.img=this.imageResource.img;if(this.w==-1)this.w=this.img.width;if(this.h==-1)this.h=this.img.height;this.loaded=true}catch(e){console.log("ERROR")}callback()}}]);return SpriteResource}(_Resource3.default);SpriteResource.TYPE=2;exports.default=SpriteResource},{"minibot/resource/ImageResource":41,"minibot/resource/Resource":42}],45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CanvasScene=require("minibot/display/html/CanvasScene");var _CanvasScene2=_interopRequireDefault(_CanvasScene);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(function(){var lastTime=0;var vendors=["webkit","moz"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}})();var userAgent=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();var isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4));
function decorate(object,traits){for(var accessor in traits){object[accessor]=traits[accessor]}return object}var system={};system.onUpdate=null;system.onRender=null;system.lastTime=null;system.isRunning=false;system.isRendering=false;system.animationFrameId=null;system.handleAnimationFrame=function(time){if(!system.isRunning)return;if(system.isRendering)return;system.isRendering=true;system.animationFrameId=window.requestAnimationFrame(system.handleAnimationFrame.bind(this));var dt=0;if(system.lastTime!=null)dt=time-system.lastTime;if(system.onUpdate!=null)system.onUpdate(dt);if(system.onRender!=null)system.onRender(dt);system.lastTime=time;system.isRendering=false};system.SetUpdateCallback=function(f){system.onUpdate=f};system.SetRenderCallback=function(f){system.onRender=f};system.Run=function(){if(system.isRunning)return;system.isRunning=true;system.animationFrameId=window.requestAnimationFrame(system.handleAnimationFrame.bind(system))};system.Stop=function(){if(!system.isRunning)return;window.cancelAnimationFrame(system.animationFrameId);system.isRunning=false};system.CreateScene=function(options){var scene=new _CanvasScene2.default(options);return scene};system.GetWrapperType=function(){return system.WrapperType.BROWSER};system.GetBrowserType=function(){};system.GetPlatformType=function(){if(isMobile){return system.PlatformType.MOBILE}else{return system.PlatformType.DESKTOP}};system.GetPlatformName=function(){var name=system.PlatformName.OTHER;if(isMobile){if(/(ipad|iphone|ipod)/g.test(userAgent)){name=system.PlatformName.IOS}else if(/(android)/g.test(userAgent)){name=system.PlatformName.ANDROID}}else{}return name};system.WrapperType={BROWSER:"Browser",NATIVE:"Native"};system.BrowserType={SAFARI:"Safari",FIREFOX:"Firefox",CHROME:"Chrome",EXPLORER:"Explorer",OPERA:"Opera"};system.PlatformType={DESKTOP:"Desktop",MOBILE:"Mobile"};system.PlatformName={OSX:"OSX",WINDOWS:"Windows",LINUX:"Linux",ANDROID:"Android",IOS:"iOS",OTHER:"Other"};exports.default=system},{"minibot/display/html/CanvasScene":5}],"minibot.system":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var system;system=require("minibot/system/browser").default;exports.default=system},{"minibot/system/browser":45}],minibot:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var core,display,engine,event,geom,graphics,network,resource;core={};core.Manager=require("minibot/core/Manager").default;core.Utils=require("minibot/core/Utils");display={};display.DisplayObject=require("minibot/display/DisplayObject").default;display.scene={};display.scene.SceneDisplayObject=require("minibot/display/scene/SceneDisplayObject").default;display.scene.Animation=require("minibot/display/scene/Animation").default;display.scene.Button=require("minibot/display/scene/Button").default;display.scene.Container=require("minibot/display/scene/Container").default;display.scene.Rect=require("minibot/display/scene/Rect").default;display.scene.Sprite=require("minibot/display/scene/Sprite").default;display.scene.Scene=require("minibot/display/scene/Scene").default;display.scene.Text=require("minibot/display/scene/Text").default;display.scene.TextStyle=require("minibot/display/scene/TextStyle").default;display.html={};display.html.HtmlElement=require("minibot/display/html/HtmlElement").default;display.html.CanvasScene=require("minibot/display/html/CanvasScene").default;engine={};engine.Engine=require("minibot/engine/Engine").default;engine.EngineComponent=require("minibot/engine/EngineComponent").default;engine.EngineFactory=require("minibot/engine/EngineFactory").default;engine.EngineObject=require("minibot/engine/EngineObject").default;engine.EngineSystem=require("minibot/engine/EngineSystem").default;engine.component={};engine.component.DisplayComponent=require("minibot/engine/component/DisplayComponent").default;engine.component.PhysicsComponent=require("minibot/engine/component/PhysicsComponent").default;engine.component.InputComponent=require("minibot/engine/component/InputComponent").default;engine.system={};engine.system.DisplaySystem=require("minibot/engine/system/DisplaySystem").default;event={};event.EventDispatcher=require("minibot/event/EventDispatcher").default;event.BaseEvent=require("minibot/event/BaseEvent").default;event.MouseEvent=require("minibot/event/MouseEvent").default;event.TouchEvent=require("minibot/event/TouchEvent").default;event.ButtonEvent=require("minibot/event/ButtonEvent").default;event.EngineEvent=require("minibot/event/EngineEvent").default;event.KeyboardEvent=require("minibot/event/KeyboardEvent").default;event.enum={};event.enum.Keyboard=require("minibot/event/enum/Keyboard").default;geom={};geom.Vector2=require("minibot/geom/Vector2").default;geom.Rectangle=require("minibot/geom/Rectangle").default;graphics={};graphics.Color=require("minibot/graphics/Color").default;graphics.Pattern=require("minibot/graphics/Pattern").default;network={};network.Ajax=require("minibot/network/Ajax").default;resource={};resource.Resource=require("minibot/resource/Resource").default;resource.ResourceManager=require("minibot/resource/ResourceManager").default;resource.AnimationResource=require("minibot/resource/AnimationResource").default;resource.ImageResource=require("minibot/resource/ImageResource").default;resource.SpriteResource=require("minibot/resource/SpriteResource").default;exports.default={core:core,display:display,engine:engine,event:event,geom:geom,graphics:graphics,network:network,resource:resource}},{"minibot/core/Manager":1,"minibot/core/Utils":2,"minibot/display/DisplayObject":3,"minibot/display/html/CanvasScene":5,"minibot/display/html/HtmlElement":6,"minibot/display/scene/Animation":7,"minibot/display/scene/Button":9,"minibot/display/scene/Container":10,"minibot/display/scene/Rect":11,"minibot/display/scene/Scene":12,"minibot/display/scene/SceneDisplayObject":13,"minibot/display/scene/Sprite":14,"minibot/display/scene/Text":15,"minibot/display/scene/TextStyle":16,"minibot/engine/Engine":17,"minibot/engine/EngineComponent":18,"minibot/engine/EngineFactory":19,"minibot/engine/EngineObject":20,"minibot/engine/EngineSystem":21,"minibot/engine/component/DisplayComponent":22,"minibot/engine/component/InputComponent":23,"minibot/engine/component/PhysicsComponent":24,"minibot/engine/system/DisplaySystem":25,"minibot/event/BaseEvent":26,"minibot/event/ButtonEvent":27,"minibot/event/EngineEvent":28,"minibot/event/EventDispatcher":29,"minibot/event/KeyboardEvent":31,"minibot/event/MouseEvent":32,"minibot/event/TouchEvent":33,"minibot/event/enum/Keyboard":34,"minibot/geom/Rectangle":35,"minibot/geom/Vector2":36,"minibot/graphics/Color":37,"minibot/graphics/Pattern":38,"minibot/network/Ajax":39,"minibot/resource/AnimationResource":40,"minibot/resource/ImageResource":41,"minibot/resource/Resource":42,"minibot/resource/ResourceManager":43,"minibot/resource/SpriteResource":44}]},{},[]);